<!-- Content wrapper -->
<div class="content-wrapper">
  <!-- Content -->

  <div class="container-xxl flex-grow-1 container-p-y">
    <div class="row">
      <div class="col-lg-8 mb-4 order-0">
        <div class="card">
          <div class="d-flex align-items-end row">
            <div class="col-sm-7">
              <div class="card-body">
                <h5 class="card-title text-primary">Congratulations John!
                  ðŸŽ‰</h5>
                <p class="mb-4">
                  You have done
                  <span class="fw-bold">72%</span>
                  more sales today. Check your new badge in your profile.
                </p>

                <a href="javascript:;" class="btn btn-sm btn-outline-primary">View Badges</a>
              </div>
            </div>
            <div class="col-sm-5 text-center text-sm-left">
              <div class="card-body pb-0 px-0 px-md-4">
                <img src="../admassets/img/illustrations/man-with-laptop-light.png" height="140" alt="View Badge User"
                  data-app-dark-img="illustrations/man-with-laptop-dark.png"
                  data-app-light-img="illustrations/man-with-laptop-light.png" />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4 col-md-4 order-1">
        <div class="row">
          <div class="col-lg-6 col-md-12 col-6 mb-4">
            <div class="card">
              <div class="card-body">
                <div class="card-title d-flex align-items-start justify-content-between">
                  <div class="avatar flex-shrink-0">
                    <img src="../admassets/img/icons/unicons/chart-success.png" alt="chart success" class="rounded" />
                  </div>
                  <div class="dropdown">
                    <button class="btn p-0" type="button" id="cardOpt3" data-bs-toggle="dropdown" aria-haspopup="true"
                      aria-expanded="false">
                      <i class="bx bx-dots-vertical-rounded"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="cardOpt3">
                      <a class="dropdown-item" href="javascript:void(0);">View More</a>
                      <a class="dropdown-item" href="javascript:void(0);">Delete</a>
                    </div>
                  </div>
                </div>
                <span class="fw-semibold d-block mb-1">Total Sales Profit</span>
                <h3 class="card-title mb-2">â‚¹{{rep.total}}</h3>
                <small class="text-success fw-semibold"><i class="bx bx-up-arrow-alt"></i>
                  +72.80%</small>
              </div>
            </div>
          </div>


          <div class="col-lg-6 col-md-12 col-6 mb-4">
            <div class="card">
              <div class="card-body">
                <div class="card-title d-flex align-items-start justify-content-between">
                  <div class="avatar flex-shrink-0">
                    <img src="../admassets/img/icons/unicons/wallet-info.png" alt="Credit Card" class="rounded" />
                  </div>
                  <div class="dropdown">
                    <button class="btn p-0" type="button" id="cardOpt6" data-bs-toggle="dropdown" aria-haspopup="true"
                      aria-expanded="false">
                      <i class="bx bx-dots-vertical-rounded"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="cardOpt6">
                      <a class="dropdown-item" href="javascript:void(0);">View More</a>
                      <a class="dropdown-item" href="javascript:void(0);">Delete</a>
                    </div>
                  </div>
                </div>
                <span>Wallet Payments</span>
                <h3 class="card-title text-nowrap mb-1">â‚¹{{wallet}}</h3>
                <small class="text-success fw-semibold"><i class="bx bx-up-arrow-alt"></i>
                  +28.42%</small>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Total Revenue -->
      <div class="col-12 col-lg-8 order-2 order-md-3 order-lg-2 mb-4">
        <div class="card">
          <div class="row row-bordered g-0">
            <div class="col-md-8 d-flex">
              <div class="row">
              <h5 class="card-header m-0 me-2 pb-3">Total Revenue</h5>
              </div>
              {{!-- <div id="totalRevenueChart" class="px-2"></div> --}}
              {{!-- <canvas id="myChart" style="width:100%;max-width:850px" class="p-3"></canvas> --}}
              
              <canvas id="myChart" width="240" height="150"></canvas>
              
             
            </div>

          </div>
        </div>
      </div>

      <!--/ Total Revenue -->


      <div class="col-12 col-md-8 col-lg-4 order-3 order-md-2">
        <div class="row">
          <div class="col-6 mb-4">
            <div class="card">
              <div class="card-body">
                <div class="card-title d-flex align-items-start justify-content-between">
                  <div class="avatar flex-shrink-0">
                    <img src="../admassets/img/icons/unicons/paypal.png" alt="Credit Card" class="rounded" />
                  </div>
                  <div class="dropdown">
                    <button class="btn p-0" type="button" id="cardOpt4" data-bs-toggle="dropdown" aria-haspopup="true"
                      aria-expanded="false">
                      <i class="bx bx-dots-vertical-rounded"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="cardOpt4">
                      <a class="dropdown-item" href="javascript:void(0);">View More</a>
                      <a class="dropdown-item" href="javascript:void(0);">Delete</a>
                    </div>
                  </div>
                </div>
                <span class="d-block mb-1">Online Payments</span>
                <h3 class="card-title text-nowrap mb-2">â‚¹{{onll}}</h3>
                <small class="text-danger fw-semibold"><i class="bx bx-down-arrow-alt"></i>
                  -14.82%</small>
              </div>
            </div>
          </div>

          <div class="col-6 mb-4">
            <div class="card">
              <div class="card-body">
                <div class="card-title d-flex align-items-start justify-content-between">
                  <div class="avatar flex-shrink-0">
                    <img src="../admassets/img/icons/unicons/cc-primary.png" alt="Credit Card" class="rounded" />
                  </div>
                  <div class="dropdown">
                    <button class="btn p-0" type="button" id="cardOpt1" data-bs-toggle="dropdown" aria-haspopup="true"
                      aria-expanded="false">
                      <i class="bx bx-dots-vertical-rounded"></i>
                    </button>
                    <div class="dropdown-menu" aria-labelledby="cardOpt1">
                      <a class="dropdown-item" href="javascript:void(0);">View More</a>
                      <a class="dropdown-item" href="javascript:void(0);">Delete</a>
                    </div>
                  </div>
                </div>
                <span class="fw-semibold d-block mb-1">COD Payments</span>
                <h3 class="card-title mb-2">â‚¹{{cod}}</h3>
                <small class="text-success fw-semibold"><i class="bx bx-up-arrow-alt"></i>
                  +28.14%</small>
              </div>
            </div>
          </div>

          <!-- </div>
    <div class="row"> -->

          <div class="col-12 mb-4">
            <div class="card">
              <div class="card-body">
                <div class="d-flex justify-content-between flex-sm-row flex-column gap-3">
                  <div class="d-flex flex-sm-column flex-row align-items-start justify-content-between">
                    <div class="card-title">
                      <h5 class="text-nowrap mb-2">Total Payments</h5>
                      <span class="badge bg-label-warning rounded-pill">Year 2021</span>
                    </div>
                    <div class="mt-sm-auto">
                      <small class="text-success text-nowrap fw-semibold"><i class="bx bx-chevron-up"></i> 68.2%</small>
                      <h3 class="mb-0">â‚¹{{totl}}</h3>
                    </div>
                  </div>
                  <div id="profileReportChart"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 col-lg-12 order-2 order-md-3 order-lg-2 mb-4">
        <div class="card">
          <div class="row row-bordered g-0">
            <div class="col-md-8 d-flex">
              <h5 class="card-header m-0 me-2 pb-3">Daily Sales(Last Week)</h5>
              {{!-- <div id="totalRevenueChart" class="px-2"></div> --}}
              {{!-- <canvas id="myChart" style="width:100%;max-width:850px" class="p-3"></canvas> --}}
              <canvas id="DailySales" width="270" height="150" class="m-3"></canvas>
            </div>

          </div>
        </div>
      </div>
 <div class="col-12 col-lg-12 order-2 order-md-3 order-lg-2 mb-4">
        <div class="card">
          <div class="row row-bordered g-0">
            <div class="col-md-8 d-flex">
              <h5 class="card-header m-0 me-2 pb-3">Monthly Sales(Last Year)</h5>
              {{!-- <div id="totalRevenueChart" class="px-2"></div> --}}
              {{!-- <canvas id="myChart" style="width:100%;max-width:850px" class="p-3"></canvas> --}}
              <canvas id="MonthlySales" width="270" height="150" class="m-3"></canvas>
            </div>

          </div>
        </div>
      </div>

       <div class="col-12 col-lg-12 order-2 order-md-3 order-lg-2 mb-4">
        <div class="card">
          <div class="row row-bordered g-0">
            <div class="col-md-8 d-flex">
              <h5 class="card-header m-0 me-2 pb-3">Yearly Sales(Last Five Years)</h5>
              {{!-- <div id="totalRevenueChart" class="px-2"></div> --}}
              {{!-- <canvas id="myChart" style="width:100%;max-width:850px" class="p-3"></canvas> --}}
              <canvas id="YearlySales" width="270" height="150" class="m-3"></canvas>
            </div>

          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <!-- Order Statistics -->
      <div class="col-12 col-lg-12 order-2 order-md-3 order-lg-2 mb-4">
        <div class="card h-100">
          <div class="card-header d-flex align-items-center justify-content-between pb-0">
            <div class="card-title mb-0">
              <h5 class="m-0 me-2">Order Statistics</h5>
              <small class="text-muted"> Sales Details</small>
            </div>
            <div class="dropdown">
              <button class="btn p-0" type="button" id="orederStatistics" data-bs-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                <i class="bx bx-dots-vertical-rounded"></i>
              </button>
              <div class="dropdown-menu dropdown-menu-end" aria-labelledby="orederStatistics">
                <a class="dropdown-item" href="javascript:void(0);">Select
                  All</a>
                <a class="dropdown-item" href="javascript:void(0);">Refresh</a>
                <a class="dropdown-item" href="javascript:void(0);">Share</a>
              </div>
            </div>
          </div>


          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div class="d-flex flex-column align-items-center gap-1">
                <h2 class="mb-2">{{totalorder}}</h2>
                <span>Total Orders</span>
              </div>
              <div id="myChart"></div>
            </div>
            <ul class="p-0 m-0">
              <li class="d-flex mb-4 pb-1">
                {{!-- <div class="avatar flex-shrink-0 me-3">
                  <span class="avatar-initial rounded bg-label-primary"><i class="bx bx-mobile-alt"></i></span>
                </div> --}}
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">Just Placed</h6>
                    {{!-- <small class="text-muted">Mobile, Earbuds, TV</small> --}}
                  </div>
                  <div class="user-progress">
                    <small class="fw-semibold">{{count.placed}}</small>
                  </div>
                </div>
              </li>
              <li class="d-flex mb-4 pb-1">
                {{!-- <div class="avatar flex-shrink-0 me-3">
                  <span class="avatar-initial rounded bg-label-success"><i class="bx bx-closet"></i></span>
                </div> --}}
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">Payment Pending</h6>
                    {{!-- <small class="text-muted">T-shirt, Jeans, Shoes</small> --}}
                  </div>
                  <div class="user-progress">
                    <small class="fw-semibold">{{count.pending}}</small>
                  </div>
                </div>
              </li>
              <li class="d-flex mb-4 pb-1">
                {{!-- <div class="avatar flex-shrink-0 me-3">
                  <span class="avatar-initial rounded bg-label-info"><i class="bx bx-home-alt"></i></span>
                </div> --}}
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">Completed Orders</h6>
                    {{!-- <small class="text-muted">Fine Art, Dining</small> --}}
                  </div>
                  <div class="user-progress">
                    <small class="fw-semibold">{{count.completed}}</small>
                  </div>
                </div>
              </li>
              <li class="d-flex">
                {{!-- <div class="avatar flex-shrink-0 me-3">
                  <span class="avatar-initial rounded bg-label-secondary"><i class="bx bx-football"></i></span>
                </div> --}}
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">Canceled orders</h6>
                    {{!-- <small class="text-muted">Football, Cricket Kit</small> --}}
                  </div>
                  <div class="user-progress">
                    <small class="fw-semibold">{{count.canceled}}</small>
                  </div>
                </div>

              </li>
            </ul>
          </div>
        </div>

      </div>
      <!--/ Order Statistics -->

      <!-- Expense Overview -->

      
  </div>
  <!-- / Content -->

  <!-- Footer -->
  <footer class="content-footer footer bg-footer-theme">
    <div class="container-xxl d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column">
      <div class="mb-2 mb-md-0">
        Â©
        <script>
          document.write(new Date().getFullYear());
        </script>

        <a href="/" target="_blank" class="footer-link fw-bolder">#</a>
      </div>
      <div>
        <a href="/" class="footer-link me-4" target="_blank">License</a>
        <a href="/" target="_blank" class="footer-link me-4">More Themes</a>

        <a href="/" target="_blank" class="footer-link me-4">Documentation</a>

        <a href="/" target="_blank" class="footer-link me-4">Support</a>
      </div>
    </div>
  </footer>
  <!-- / Footer -->

  <div class="content-backdrop fade"></div>
</div>
<!-- Content wrapper -->
</div>
<!-- / Layout page -->
</div>

<!-- Overlay -->
<div class="layout-overlay layout-menu-toggle"></div>
</div>
<script>
  barData = [0]
  barData.unshift('{{barData.completed.count}}')
  barData.unshift('{{barData.placed.count}}')
  barData.unshift('{{barData.canceled.count}}')

  //console.log({{ barData.completed }})

  const ctx = document.getElementById('myChart').getContext('2d');
  const myChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Orders Canceled', 'Just Placed', 'Orders Completed'],
      datasets: [{
        label: '# In The Past Month',

        data: barData,
        backgroundColor: [
          'rgba(255, 99, 132, 0.2)',
          'rgba(54, 162, 235, 0.2)',
          'rgba(255, 206, 86, 0.2)',
          'rgba(75, 192, 192, 0.2)',
          'rgba(153, 102, 255, 0.2)',
          'rgba(255, 159, 64, 0.2)'
        ],
        borderColor: [
          'rgba(255, 99, 132, 1)',
          'rgba(54, 162, 235, 1)',
          'rgba(255, 206, 86, 1)',
          'rgba(75, 192, 192, 1)',
          'rgba(153, 102, 255, 1)',
          'rgba(255, 159, 64, 1)'
        ],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
  let xdata=[]
  let ydata=[]
{{#each barData.daily}}
  ydata.push('{{this.count}}')
  xdata.push('{{this.day}}')
  {{/each}}
  var xValues = xdata
  var yValues = ydata;

  let xmdata=[]
  let ymdata=[]
{{#each barData.monthly}}
  ymdata.unshift('{{this.count}}')
  xmdata.unshift('{{this.month}}')
  {{/each}}
  console.log(xmdata,ymdata)
  var xmValues = xmdata
  var ymValues = ymdata;

  let xydata=[]
  let yydata=[]
{{#each barData.yearly}}
  yydata.unshift('{{this.count}}')
  xydata.unshift('{{this._id.year}}')
  {{/each}}
  console.log(xydata,yydata)
  var xyValues = xydata
  var yyValues = yydata;

  new Chart("DailySales", {
    type: "line",
    data: {
      labels: xValues,
      datasets: [{
        fill: false,
        lineTension: 0,
        backgroundColor: "rgba(0,0,255,1.0)",
        borderColor: "rgba(0,0,255,0.1)",
        data: yValues
      }]
    },
    options: {
      legend: { display: true },
     scales: {
        yAxes: [{
            ticks: {
                beginAtZero: true
            }
        }],
        xAxes: [{
            ticks: {
                beginAtZero: true
            }
        }]
    }
    }
  });

  new Chart("MonthlySales", {
    type: "line",
    data: {
      labels: xmValues,
      datasets: [{
        fill: false,
        lineTension: 0,
        backgroundColor: "rgba(0,0,255,1.0)",
        borderColor: "rgba(0,0,255,0.1)",
        data: ymValues
      }]
    },
    options: {
      legend: { display: true },
     scales: {
        yAxes: [{
            ticks: {
                beginAtZero: true
            }
        }],
        xAxes: [{
            ticks: {
                beginAtZero: true
            }
        }]
    }
    }
  });

  new Chart("YearlySales", {
    type: "line",
    data: {
      labels: xyValues,
      datasets: [{
        fill: false,
        lineTension: 0,
        backgroundColor: "rgba(0,0,255,1.0)",
        borderColor: "rgba(0,0,255,0.1)",
        data: yyValues
      }]
    },
    options: {
      legend: { display: true },
     scales: {
        yAxes: [{
            ticks: {
                beginAtZero: true
            }
        }],
        xAxes: [{
            ticks: {
                beginAtZero: true
            }
        }]
    }
    }
  });
</script>